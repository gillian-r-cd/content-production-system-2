# Design System â€” å†…å®¹ç”Ÿäº§ç³»ç»Ÿ UI ç»Ÿä¸€è®¾è®¡è§„èŒƒ

> **ç‰ˆæœ¬**: v1.0 (è‰æ¡ˆ)  
> **çŠ¶æ€**: å¾…å®¡é˜… â€” æ”¹åŠ¨ä¹‹å‰éœ€ç”¨æˆ·ç¡®è®¤  
> **è®¾è®¡ç†å¿µ**: å‚è€ƒ Notionã€Linearã€Figma ç­‰é¡¶çº§åˆ›ä½œå·¥å…·çš„è®¾è®¡è¯­è¨€ï¼Œ  
> é¢å‘ **å†…å®¹åˆ›ä½œè€…** æ‰“é€ å®‰é™ã€èšç„¦ã€é«˜æ•ˆçš„æ·±è‰²ä¸“ä¸šå·¥ä½œå°ã€‚

---

## ç›®å½•

1. [è®¾è®¡åŸåˆ™](#1-è®¾è®¡åŸåˆ™)
2. [è‰²å½©ç³»ç»Ÿ](#2-è‰²å½©ç³»ç»Ÿ)
3. [æ’ç‰ˆç³»ç»Ÿ](#3-æ’ç‰ˆç³»ç»Ÿ)
4. [é—´è·ä¸å¸ƒå±€](#4-é—´è·ä¸å¸ƒå±€)
5. [å›¾æ ‡ç³»ç»Ÿï¼ˆIcon Systemï¼‰](#5-å›¾æ ‡ç³»ç»Ÿicon-system)
6. [æŒ‰é’®ç³»ç»Ÿï¼ˆButton Systemï¼‰](#6-æŒ‰é’®ç³»ç»Ÿbutton-system)
7. [çŠ¶æ€ç³»ç»Ÿï¼ˆStatus Systemï¼‰](#7-çŠ¶æ€ç³»ç»Ÿstatus-system)
8. [å¡ç‰‡ä¸å®¹å™¨](#8-å¡ç‰‡ä¸å®¹å™¨)
9. [å¼¹çª—ç³»ç»Ÿï¼ˆModal Systemï¼‰](#9-å¼¹çª—ç³»ç»Ÿmodal-system)
10. [è¡¨å•å…ƒç´ ](#10-è¡¨å•å…ƒç´ )
11. [å¯¼èˆªä¸é¢æ¿](#11-å¯¼èˆªä¸é¢æ¿)
12. [åŠ¨æ•ˆä¸è¿‡æ¸¡](#12-åŠ¨æ•ˆä¸è¿‡æ¸¡)
13. [å½“å‰é—®é¢˜æ¸…å•ä¸æ”¹è¿›æ–¹æ¡ˆ](#13-å½“å‰é—®é¢˜æ¸…å•ä¸æ”¹è¿›æ–¹æ¡ˆ)
14. [ç»„ä»¶çº§è§„èŒƒå¯¹ç…§è¡¨](#14-ç»„ä»¶çº§è§„èŒƒå¯¹ç…§è¡¨)
15. [å®æ–½è®¡åˆ’ä¸ä¼˜å…ˆçº§](#15-å®æ–½è®¡åˆ’ä¸ä¼˜å…ˆçº§)
16. [ä¸å˜åŠ¨æ¸…å•](#16-ä¸å˜åŠ¨æ¸…å•æ˜ç¡®ä¿ç•™é¡¹)
17. [æŠ€æœ¯è¾¹ç•Œå£°æ˜](#17-æŠ€æœ¯è¾¹ç•Œå£°æ˜)

---

## 1. è®¾è®¡åŸåˆ™

| åŸåˆ™ | è¯´æ˜ |
|------|------|
| **ä¸€è‡´æ€§ä¼˜å…ˆ** | åŒä¸€è¯­ä¹‰ â†’ åŒä¸€å›¾æ ‡ + åŒä¸€è‰²å½© + åŒä¸€äº¤äº’ï¼Œæ— è®ºå‡ºç°åœ¨ä»»ä½•ç»„ä»¶ä¸­ |
| **å®‰é™èšç„¦** | æ·±è‰²ä¸»é¢˜ + ä½å¯¹æ¯”è¾¹æ¡† + ç¨€ç–é«˜äº®ï¼Œè®©ç”¨æˆ·æ³¨æ„åŠ›åœç•™åœ¨å†…å®¹æœ¬èº« |
| **æ¸è¿›æŠ«éœ²** | é»˜è®¤æ˜¾ç¤ºæœ€å°‘ä¿¡æ¯ï¼Œå±•å¼€/hover æ—¶æ‰æš´éœ²é«˜çº§æ“ä½œï¼Œå‡å°‘è®¤çŸ¥è´Ÿæ‹… |
| **è¯­ä¹‰æ˜ç¡®** | æ¯ä¸ªå›¾æ ‡ã€é¢œè‰²ã€ä½ç½®éƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå«ä¹‰ï¼Œæ‹’ç»ä¸€ä¸ªå›¾æ ‡æ‰¿æ‹…å¤šä¹‰ |
| **åˆ›ä½œè€…è‡³ä¸Š** | å‚è€ƒ Notion/Linear çš„"å·¥å…·éšèº«"ç†å¿µ â€” ç•Œé¢ä¸æŠ¢æˆï¼Œå†…å®¹æ˜¯ä¸»è§’ |
| **æ‹’ç»ä¸ºæ”¹è€Œæ”¹** | æ¯å¤„æ”¹åŠ¨éƒ½æ ‡æ³¨æ”¹åŠ¨ç†ç”±ï¼›ä¸æ”¹çš„åœ°æ–¹ä¿æŒåŸæ · |

---

## 2. è‰²å½©ç³»ç»Ÿ

### 2.1 åŸºç¡€è‰²æ¿ï¼ˆä¿æŒç°æœ‰ Tailwind é…ç½®ï¼‰

```
å“ç‰Œè‰² brand:
  50:  #f0f4ff    100: #e0e7ff    200: #c7d2fe    300: #a5b4fc
  400: #818cf8    500: #6366f1    600: #4f46e5    700: #4338ca
  800: #3730a3    900: #312e81

Surface èƒŒæ™¯è‰²:
  0: #0a0a0b (æœ€æ·±, body)
  1: #111113 (ä¾§æ , header)
  2: #18181b (å¡ç‰‡, è¾“å…¥æ¡†èƒŒæ™¯)
  3: #27272a (è¾¹æ¡†, åˆ†éš”çº¿)
  4: #3f3f46 (hover è¾¹æ¡†, æ¬¡çº§åˆ†éš”)
```

> **ä¸å˜åŠ¨ç†ç”±**: ç°æœ‰è‰²æ¿å·²ç»æ˜¯æˆç†Ÿæš—è‰²æ–¹æ¡ˆï¼Œä¸ zinc ç°é˜¶æ— ç¼é…åˆã€‚å˜åŠ¨ä¼šå¼•å‘å¤§é¢ç§¯è¿é”ï¼Œæ”¶ç›Šä¸å¤§ã€‚

### 2.2 è¯­ä¹‰è‰²å½©ï¼ˆå…¨å±€ç»Ÿä¸€å®šä¹‰ï¼‰

| è¯­ä¹‰ | Tailwind ç±» | ä½¿ç”¨åœºæ™¯ |
|------|-------------|----------|
| **ä¸»è¦æ“ä½œ / AI ç”Ÿæˆ** | `brand-500` / `brand-600` | ç”ŸæˆæŒ‰é’®ã€ä¸» CTA |
| **æˆåŠŸ / å·²å®Œæˆ** | `emerald-400` / `emerald-500` | çŠ¶æ€æ ‡è®°ã€ç¡®è®¤æŒ‰é’® |
| **è­¦å‘Š / éœ€å®¡æ ¸** | `amber-400` / `amber-500` | é‡æ–°ç”Ÿæˆã€need_review æ ‡è®° |
| **å±é™© / åˆ é™¤** | `red-400` / `red-500` | åˆ é™¤æŒ‰é’®ã€å¤±è´¥çŠ¶æ€ |
| **ä¿¡æ¯ / ä¾èµ–** | `blue-400` / `blue-500` | ä¾èµ–é“¾æ¥ã€ä¿¡æ¯æç¤º |
| **ç‰¹æ®Šå¤„ç†å™¨** | å„è‡ªä¸“å±è‰²ï¼ˆè§ä¸‹è¡¨ï¼‰ | æ„å›¾/è°ƒç ”/æ¨¡æ‹Ÿ/è¯„ä¼° |
| **ä¸­æ€§ / ç¦ç”¨** | `zinc-400` ~ `zinc-600` | ç¦ç”¨æ€ã€å ä½æ–‡å­— |

### 2.3 ç‰¹æ®Šå¤„ç†å™¨è‰²å½©ï¼ˆSpecial Handler Colorsï¼‰

| handler | å›¾æ ‡è‰² | badge èƒŒæ™¯ | è¯´æ˜ |
|---------|--------|-----------|------|
| `intent` | `amber-400` | `amber-600/20` | æ„å›¾åˆ†æ |
| `research` | `blue-400` | `blue-600/20` | æ¶ˆè´¹è€…è°ƒç ” |
| `simulate` | `purple-400` | `purple-600/20` | æ¶ˆè´¹è€…æ¨¡æ‹Ÿ |
| `evaluate` | `emerald-400` | `emerald-600/20` | å†…å®¹è¯„ä¼° |

---

## 3. æ’ç‰ˆç³»ç»Ÿ

### 3.1 å­—å·è§„èŒƒ

| çº§åˆ« | Tailwind | ä½¿ç”¨åœºæ™¯ |
|------|----------|----------|
| **é¡µé¢æ ‡é¢˜** | `text-xl font-bold` | å†…å®¹å—ç¼–è¾‘å™¨æ ‡é¢˜ã€é˜¶æ®µæ ‡é¢˜ |
| **å¡ç‰‡æ ‡é¢˜ / é¢æ¿æ ‡é¢˜** | `text-base font-semibold` | ä¾§æ æ ‡é¢˜ã€å¼¹çª—æ ‡é¢˜ |
| **æ­£æ–‡** | `text-sm` | å†…å®¹åŒºåŸŸæ­£æ–‡ã€æŒ‰é’®æ–‡å­— |
| **è¾…åŠ©æ–‡å­—** | `text-xs` | æ ‡ç­¾ã€çŠ¶æ€æ–‡å­—ã€æ—¶é—´æˆ³ã€æç¤ºä¿¡æ¯ |
| **ä»£ç /æ•°æ®** | `text-xs font-mono` | ç‰ˆæœ¬å·ã€API è°ƒç”¨ä¿¡æ¯ |

### 3.2 æ–‡å­—é¢œè‰²åˆ†å±‚

| çº§åˆ« | é¢œè‰² | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| **ä¸€çº§æ–‡å­—** | `text-zinc-100` | æ ‡é¢˜ã€ä¸»è¦å†…å®¹ |
| **äºŒçº§æ–‡å­—** | `text-zinc-300` | æ­£æ–‡ã€æ ‡ç­¾ |
| **ä¸‰çº§æ–‡å­—** | `text-zinc-400` | è¾…åŠ©è¯´æ˜ã€hover å‰çš„æŒ‰é’®æ–‡å­— |
| **å››çº§æ–‡å­—** | `text-zinc-500` | å ä½ç¬¦ã€æœ€æ¬¡è¦ä¿¡æ¯ |
| **ç¦ç”¨æ–‡å­—** | `text-zinc-600` | ç¦ç”¨æŒ‰é’® |

---

## 4. é—´è·ä¸å¸ƒå±€

### 4.1 é—´è·æ¢¯åº¦ï¼ˆSpacing Scaleï¼‰

| Token | å€¼ | ä½¿ç”¨åœºæ™¯ |
|-------|-----|----------|
| `xs` | `1` (0.25rem) | å›¾æ ‡ä¸æ–‡å­—é—´ gapã€æœ€å°å†…è¾¹è· |
| `sm` | `1.5` (0.375rem) | ç´§å‡‘æŒ‰é’® padding-y |
| `md` | `2` (0.5rem) | æ ‡å‡†é—´è·ã€æŒ‰é’® padding-y |
| `lg` | `3` (0.75rem) | å¡ç‰‡å†…éƒ¨ section é—´éš” |
| `xl` | `4` (1rem) | é¢æ¿ paddingã€å¤§é—´è· |
| `2xl` | `5` (1.25rem) | å¼¹çª— padding |
| `3xl` | `6` (1.5rem) | é¡µé¢çº§è¾¹è· |

### 4.2 åœ†è§’è§„èŒƒ

| åœºæ™¯ | Tailwind ç±» |
|------|-------------|
| å°å‹å…ƒç´ ï¼ˆbadge, çŠ¶æ€ç‚¹ï¼‰ | `rounded` / `rounded-full` |
| æŒ‰é’® | `rounded-lg` (8px) |
| å¡ç‰‡ | `rounded-lg` (8px) |
| å¼¹çª— | `rounded-xl` (12px) |

### 4.3 ä¸‰æ å¸ƒå±€

| é¢æ¿ | é»˜è®¤å®½åº¦ | æœ€å° | æœ€å¤§ |
|------|---------|------|------|
| å·¦æ ï¼ˆè¿›åº¦ï¼‰ | 256px | 180px | 420px |
| ä¸­æ ï¼ˆå†…å®¹ï¼‰ | flex-1 | â€” | â€” |
| å³æ ï¼ˆAgentï¼‰ | 384px | 280px | 620px |

> **ä¸å˜åŠ¨**: ä¸‰æ å¸ƒå±€å’Œæ‹–æ‹½è°ƒæ•´å·²ç»è‰¯å¥½è¿ä½œã€‚

---

## 5. å›¾æ ‡ç³»ç»Ÿï¼ˆIcon Systemï¼‰ğŸ”‘ æ ¸å¿ƒé‡æ„

> **è¿™æ˜¯æœ¬æ¬¡è®¾è®¡ç³»ç»Ÿæœ€å…³é”®çš„éƒ¨åˆ†ã€‚** ç°æœ‰ UI æœ€å¤§é—®é¢˜æ˜¯åŒä¸€å›¾æ ‡è¢«å¤šä¸ªä¸åŒåŠŸèƒ½å¤ç”¨ã€‚

### 5.1 å›¾æ ‡ç»Ÿä¸€æ˜ å°„è¡¨

æ¯ä¸ªåŠŸèƒ½ â†’ **å”¯ä¸€ä¸€ä¸ª** å›¾æ ‡ï¼Œæ‰€æœ‰ç»„ä»¶ä¸­ä¿æŒä¸€è‡´ã€‚

| åŠŸèƒ½ | å›¾æ ‡ (lucide-react) | æ—§ç”¨æ³•ï¼ˆé—®é¢˜ï¼‰ | è¯´æ˜ |
|------|---------------------|---------------|------|
| **AI ç”Ÿæˆ** | `Play` | `Sparkles`ï¼ˆä¸æç¤ºè¯é…ç½®å†²çªï¼‰ | Play = "è¿è¡Œ/æ‰§è¡Œ"ï¼Œè¯­ä¹‰æœ€æ˜ç¡®ã€‚æ³¨æ„ä¸ç±»å‹å›¾æ ‡ `PlayCircle`ï¼ˆæ¨¡æ‹Ÿï¼‰çš„åŒºåˆ†ï¼š`Play` æ˜¯å®å¿ƒä¸‰è§’ç”¨äºæ“ä½œæŒ‰é’®ï¼Œ`PlayCircle` æ˜¯åœ†åœˆå†…ä¸‰è§’ç”¨äºç±»å‹æ ‡è¯†ï¼Œè§†è§‰æƒé‡ä¸åŒ |
| **é‡æ–°ç”Ÿæˆ** | `RefreshCw` | `RefreshCw`ï¼ˆâœ… ä¿æŒï¼‰ | æ—‹è½¬ç®­å¤´ = é‡åš |
| **åœæ­¢ç”Ÿæˆ** | `Square`ï¼ˆå®å¿ƒæ–¹å—ï¼‰ | è‡ªå®šä¹‰ SVG rect | ç»Ÿä¸€ç”¨ `Square` å›¾æ ‡ |
| **AI æç¤ºè¯é…ç½®** | `MessageSquarePlus` | `Sparkles`ï¼ˆä¸ç”Ÿæˆå†²çªï¼‰ | "æ¶ˆæ¯+åŠ å·" = é…ç½® AI æŒ‡ä»¤ |
| **ä¾èµ–é…ç½®** | `Workflow` | `Link` | "æµç¨‹" è¡¨è¾¾æ•°æ®æµå‘çš„ä¾èµ–å…³ç³»ï¼ˆâš  `GitBranch` å·²è¢«è¿›åº¦é¢æ¿æ ‘å½¢åˆ‡æ¢å ç”¨ï¼Œä¸å¯å¤ç”¨ï¼‰ |
| **çº¦æŸé…ç½®** | `SlidersHorizontal` | `Settings` | "æ»‘å—" = å‚æ•°è°ƒèŠ‚ï¼Œä¸å…¨å±€è®¾ç½®åŒºåˆ† |
| **éœ€è¦å®¡æ ¸ (need_review=true)** | `ShieldCheck` | `AlertTriangle` | "ç›¾+å‹¾" = éœ€äººå·¥æŠŠå…³ï¼Œæ¯”è­¦å‘Šä¸‰è§’æ›´æ­£é¢ |
| **è‡ªåŠ¨æ‰§è¡Œ (need_review=false)** | `Zap` | `CheckCircle2` | "é—ªç”µ" = è‡ªåŠ¨/å¿«é€Ÿï¼Œè¯­ä¹‰é²œæ˜ã€‚æ³¨æ„ `eval-field-editors.tsx` ä¸­ `Zap` ç”¨äºè¯„ä¼°ç›¸å…³ UIï¼Œä¸Šä¸‹æ–‡ä¸åŒï¼Œä¸å†²çª |
| **ç¼–è¾‘åç§°/å†…å®¹** | `Pencil` | `Edit2` | ç»Ÿä¸€ç”¨ `Pencil`ï¼ˆæ›´ç›´è§‰ï¼‰ |
| **ä¿å­˜** | `Save` | `Save`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **åˆ é™¤** | `Trash2` | `Trash2`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **å¤åˆ¶/å…‹éš†** | `Copy` | `Copy`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **ç‰ˆæœ¬å†å²** | `History` | `History`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **å›æ»š** | `RotateCcw` | `RotateCcw`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **å±•å¼€/æŠ˜å ** | `ChevronRight` / `ChevronDown` | æ··ç”¨ï¼ˆâœ… åŸºæœ¬ä¸€è‡´ï¼‰ | ç»Ÿä¸€ä¸º right=æ”¶èµ·, down=å±•å¼€ |
| **å…³é—­** | `X` | `X`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **æœç´¢** | `Search` | `Search`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **å¯¼å‡º** | `Download` | `Download`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **å¯¼å…¥** | `Upload` | `Upload`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **æ›´å¤šæ“ä½œ** | `MoreHorizontal` | `MoreHorizontal`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **æ‹–æ‹½æ‰‹æŸ„** | `GripVertical` | `GripVertical`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **ç¡®è®¤/å®Œæˆ** | `Check` | `Check`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |
| **æ’¤é”€** | `Undo2` | `Undo2`ï¼ˆâœ… ä¿æŒï¼‰ | â€” |

### 5.2 å†…å®¹å—ç±»å‹å›¾æ ‡

| å—ç±»å‹ | å›¾æ ‡ | é¢œè‰² | å¤‡æ³¨ |
|--------|------|------|------|
| `phase`ï¼ˆç»„ï¼‰ | `Folder` / `FolderOpen` | `zinc-400` | æ”¶èµ·=Folder, å±•å¼€=FolderOpen |
| `group`ï¼ˆå­ç»„ï¼‰ | `FolderClosed` | `zinc-400` | ä¸ phase åŒºåˆ†ä½¿ç”¨ FolderClosed |
| `field`ï¼ˆå­—æ®µï¼‰ | `FileText` | `zinc-400` | â€” |
| special: `intent` | `Lightbulb` | `amber-400` | â€” |
| special: `research` | `Users` | `blue-400` | â€” |
| special: `simulate` | `PlayCircle` | `purple-400` | â€” |
| special: `evaluate` | `BarChart3` | `emerald-400` | â€” |

### 5.3 å›¾æ ‡å°ºå¯¸è§„èŒƒ

| åœºæ™¯ | å°ºå¯¸ |
|------|------|
| å·¥å…·æ ï¼ˆç´§å‡‘ï¼‰icon-only æŒ‰é’® | `w-4 h-4` |
| é…ç½®åŒºåŸŸå¸¦æ–‡å­—æŒ‰é’® | `w-3.5 h-3.5` |
| é¢æ¿æ ‡é¢˜ | `w-5 h-5` |
| ç©ºçŠ¶æ€/å¤§å›¾æ ‡ | `w-8 h-8` ~ `w-12 h-12` |

---

## 6. æŒ‰é’®ç³»ç»Ÿï¼ˆButton Systemï¼‰

### 6.1 æŒ‰é’®å±‚çº§

| å±‚çº§ | æ ·å¼ | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| **Primary** | `bg-brand-600 hover:bg-brand-700 text-white rounded-lg` | ä¸» CTAï¼šAI ç”Ÿæˆã€åˆ›å»ºã€ä¸‹ä¸€æ­¥ |
| **Secondary** | `bg-surface-2 hover:bg-surface-3 border border-surface-3 text-zinc-300 rounded-lg` | æ¬¡çº§æ“ä½œï¼šå¯¼å…¥ã€æœç´¢ |
| **Ghost** | `text-zinc-400 hover:text-zinc-200 hover:bg-surface-3 rounded-lg` | å·¥å…·æ æ“ä½œï¼šç¼–è¾‘ã€é…ç½® |
| **Danger** | `bg-red-600/20 hover:bg-red-600/30 text-red-400 border border-red-500/30 rounded-lg` | åˆ é™¤ã€åœæ­¢ |
| **Warning** | `bg-amber-600/20 hover:bg-amber-600/30 text-amber-400 border border-amber-500/30 rounded-lg` | é‡æ–°ç”Ÿæˆã€å›æ»š |
| **Success** | `bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg` | ç¡®è®¤ã€å®Œæˆ |

### 6.2 æŒ‰é’®å°ºå¯¸

| å°ºå¯¸ | æ ·å¼ | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| **sm** | `px-2 py-1 text-xs gap-1` | ç´§å‡‘å·¥å…·æ ã€å¡ç‰‡å†…è¡Œæ“ä½œ |
| **md** | `px-3 py-1.5 text-sm gap-1.5` | æ ‡å‡†æŒ‰é’®ã€é…ç½®åŒº |
| **lg** | `px-4 py-2 text-sm gap-2` | å¼¹çª—åº•éƒ¨æ“ä½œã€ä¸» CTA |

### 6.3 Icon-Only æŒ‰é’®

ç”¨äºå·¥å…·æ ç´§å‡‘åœºæ™¯ã€‚**å¿…é¡»æä¾› `title` tooltip**ã€‚

```
p-1.5 rounded-lg transition-colors
+ å¯¹åº”è¯­ä¹‰è‰²ï¼ˆè§ Â§2.2ï¼‰
```

### 6.4 æŒ‰é’®ç»„åˆè§„èŒƒ

å½“åŒä¸€åŒºåŸŸæœ‰å¤šä¸ªæŒ‰é’®æ—¶ï¼ŒæŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§ä»å·¦åˆ°å³æ’åˆ—ï¼š

```
[é…ç½®ç±» Ghost] ... [Warning é‡æ–°ç”Ÿæˆ] [Primary ç”Ÿæˆ/ç¡®è®¤] [Ghost ç‰ˆæœ¬å†å²] [Danger åœæ­¢/åˆ é™¤]
```

- é…ç½®æ“ä½œæ”¾å·¦ä¾§
- ä¸»æ“ä½œï¼ˆç”Ÿæˆ/ç¡®è®¤ï¼‰æ”¾ä¸­å³ã€æœ€æ˜¾çœ¼
- ç‰ˆæœ¬å†å²ç´§éšä¸»æ“ä½œä¹‹åï¼ˆè¾…åŠ©å‚è€ƒæ€§è´¨ï¼‰
- å±é™©æ“ä½œï¼ˆåœæ­¢/åˆ é™¤ï¼‰æ”¾æœ€å³

---

## 7. çŠ¶æ€ç³»ç»Ÿï¼ˆStatus Systemï¼‰

### 7.1 å†…å®¹å—çŠ¶æ€ç»Ÿä¸€è¡¨è¾¾

æ¯ä¸ªçŠ¶æ€ â†’ ç»Ÿä¸€çš„ã€Œè‰²å½© + æ ‡ç­¾æ–‡å­— + å¯é€‰å°åœ†ç‚¹ã€ã€‚

| çŠ¶æ€å€¼ | æ˜¾ç¤ºæ–‡å­— | æ–‡å­—è‰² | èƒŒæ™¯è‰² (badge) | åœ†ç‚¹è‰² |
|--------|---------|--------|---------------|--------|
| `pending` | å¾…å¤„ç† | `text-zinc-400` | `bg-zinc-600/20` | `bg-zinc-600` |
| `in_progress` | ç”Ÿæˆä¸­ | `text-amber-400` | `bg-amber-600/20` | `bg-amber-500` (animate-pulse) |
| `completed` | å·²å®Œæˆ | `text-emerald-400` | `bg-emerald-600/20` | `bg-emerald-500` |
| `failed` | å¤±è´¥ | `text-red-400` | `bg-red-600/20` | `bg-red-500` |

### 7.2 çŠ¶æ€ Badge ç»„ä»¶è§„èŒƒ

**ç´§å‡‘è§†å›¾ï¼ˆæ ‘å½¢èŠ‚ç‚¹/å¡ç‰‡è¡Œï¼‰**ï¼šä»…æ˜¾ç¤ºå°åœ†ç‚¹

```html
<span className="w-2 h-2 rounded-full {åœ†ç‚¹è‰²}" />
```

**å±•å¼€è§†å›¾ï¼ˆç¼–è¾‘å™¨/å¡ç‰‡è¯¦æƒ…ï¼‰**ï¼šåœ†ç‚¹ + æ–‡å­— badge

```html
<span className="flex items-center gap-1.5 px-2 py-0.5 text-xs rounded-full {èƒŒæ™¯è‰²} {æ–‡å­—è‰²}">
  <span className="w-1.5 h-1.5 rounded-full {åœ†ç‚¹è‰²}" />
  {æ˜¾ç¤ºæ–‡å­—}
</span>
```

### 7.3 é…ç½®çŠ¶æ€æŒ‡ç¤º

| é…ç½®é¡¹ | å·²é…ç½® | æœªé…ç½® |
|--------|--------|--------|
| AI æç¤ºè¯ | `text-brand-400` + `MessageSquarePlus` å›¾æ ‡ + "å·²é…ç½®" | `text-red-400` + `AlertCircle` å›¾æ ‡ + "æœªé…ç½®" |
| ä¾èµ– | `text-blue-400` + ä¾èµ–æ•°é‡ | `text-zinc-500` + "æ— ä¾èµ–" |
| çº¦æŸ | æ˜¾ç¤ºå·²é…ç½®çš„çº¦æŸæ‘˜è¦ | `text-zinc-500`ï¼ˆä¸æ˜¾ç¤ºï¼‰ |

---

## 8. å¡ç‰‡ä¸å®¹å™¨

### 8.1 å¡ç‰‡åŸºç¡€æ ·å¼

```
border border-surface-3 rounded-lg bg-surface-1 overflow-hidden
hover:border-surface-4 transition-colors
```

### 8.2 ContentBlockCardï¼ˆç´§å‡‘å¡ç‰‡ï¼‰å¸ƒå±€è§„èŒƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ç±»å‹å›¾æ ‡] åç§°                    çŠ¶æ€badge  [æ“ä½œåŒº] â”‚  â† å¤´éƒ¨è¡Œ: 24-28px é«˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å†…å®¹é¢„è§ˆ / ç¼–è¾‘åŒºåŸŸ                                    â”‚  â† å±•å¼€æ—¶æ˜¾ç¤º
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [é…ç½®æç¤ºè¯] [ä¾èµ–é…ç½®] [çº¦æŸé…ç½®] [å®¡æ ¸/è‡ªåŠ¨]          â”‚  â† é…ç½®åŒº: å±•å¼€æ—¶æ˜¾ç¤º
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ“ä½œåŒºæŒ‰é’®**ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼š

```
[æç¤ºè¯å›¾æ ‡] [ä¾èµ–å›¾æ ‡] [çº¦æŸå›¾æ ‡] [å®¡æ ¸/è‡ªåŠ¨å›¾æ ‡] | [ç”Ÿæˆ/é‡æ–°ç”Ÿæˆ] [ç‰ˆæœ¬å†å²] [åˆ é™¤]
```

### 8.3 ContentBlockEditorï¼ˆå…¨é¡µç¼–è¾‘å™¨ï¼‰å¸ƒå±€è§„èŒƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ç±»å‹badge] åç§°                 [æ“ä½œæŒ‰é’®ç»„]          â”‚  â† æ ‡é¢˜æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æç¤ºè¯æŒ‰é’®] [çº¦æŸæŒ‰é’®] [ä¾èµ–æŒ‰é’®] [å®¡æ ¸çŠ¶æ€]          â”‚  â† é…ç½®åŒº
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚                å†…å®¹é¢„è§ˆ / ç¼–è¾‘åŒº                        â”‚  â† ä¸»ä½“
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.4 æ ‘å½¢èŠ‚ç‚¹æ ·å¼

```
[æ‹–æ‹½æ‰‹æŸ„] [å±•å¼€ç®­å¤´] [ç±»å‹å›¾æ ‡] åç§° [çŠ¶æ€åœ†ç‚¹] ... [æ›´å¤šèœå•]
```

- èŠ‚ç‚¹é«˜åº¦: `py-1.5`ï¼ˆ36px å·¦å³ï¼‰
- ç¼©è¿›: æ¯å±‚ `ml-4` (16px)
- hover: `bg-surface-2`
- é€‰ä¸­: `bg-brand-600/10 border-l-2 border-brand-500`

---

## 9. å¼¹çª—ç³»ç»Ÿï¼ˆModal Systemï¼‰

### 9.1 ç»Ÿä¸€å¼¹çª—ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [å›¾æ ‡] æ ‡é¢˜                    [X]   â”‚  â† Header: px-5 py-4, border-b
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚           å†…å®¹åŒºåŸŸ                    â”‚  â† Body: p-5, overflow-y-auto
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    [å–æ¶ˆ]  [ç¡®è®¤]     â”‚  â† Footer: px-5 py-4, border-t
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 å¼¹çª—æ ·å¼

```
// é®ç½©å±‚
fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4

// å¼¹çª—å®¹å™¨
bg-surface-2 border border-surface-3 rounded-xl shadow-2xl
w-full max-w-{size} max-h-[80vh] flex flex-col
```

| å°ºå¯¸ | `max-w` | ä½¿ç”¨åœºæ™¯ |
|------|---------|----------|
| `sm` | `max-w-md` | ç¡®è®¤å¯¹è¯æ¡† |
| `md` | `max-w-lg` | é…ç½®å¼¹çª—ï¼ˆæç¤ºè¯/çº¦æŸ/ä¾èµ–ï¼‰ |
| `lg` | `max-w-2xl` | ç‰ˆæœ¬å†å²ã€æ¨¡æ¿é€‰æ‹© |

### 9.3 å¼¹çª—å…³é—­æ–¹å¼

- ç‚¹å‡»é®ç½©å±‚å…³é—­
- å³ä¸Šè§’ `X` æŒ‰é’®å…³é—­
- `Escape` é”®å…³é—­ï¼ˆå»ºè®®ç»Ÿä¸€æ·»åŠ ï¼‰

---

## 10. è¡¨å•å…ƒç´ 

### 10.1 è¾“å…¥æ¡†

```
w-full px-4 py-2.5
bg-surface-2 border border-surface-3 rounded-lg
text-zinc-100 placeholder-zinc-500
focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent
```

### 10.2 æ–‡æœ¬åŸŸ

```
ç»§æ‰¿è¾“å…¥æ¡†æ ·å¼ + resize-none + min-h-[100px]
font-mono (ä»£ç /æç¤ºè¯è¾“å…¥)
æˆ– font-sans (æ™®é€šæ–‡æœ¬)
```

### 10.3 ä¸‹æ‹‰é€‰æ‹©

```
åŒè¾“å…¥æ¡†æ ·å¼
```

### 10.4 å¼€å…³ (Toggle Switch)

```
w-12 h-6 rounded-full transition-colors
å¼€å¯: bg-brand-600
å…³é—­: bg-zinc-600

æ»‘å—: w-4 h-4 rounded-full bg-white
```

### 10.5 å¤é€‰æ¡† (Checkbox)

ä½¿ç”¨ `CheckSquare` / `Square` å›¾æ ‡ï¼Œä¸ç”¨åŸç”Ÿ checkboxã€‚

```
é€‰ä¸­: text-brand-400
æœªé€‰ä¸­: text-zinc-500
```

---

## 11. å¯¼èˆªä¸é¢æ¿

### 11.1 é¡¶éƒ¨å¯¼èˆªæ  (Header)

```
h-14 border-b border-surface-3 bg-surface-1
flex items-center justify-between px-4
```

- å·¦ä¾§: å“ç‰Œå + é¡¹ç›®é€‰æ‹©å™¨ + æ“ä½œæŒ‰é’®
- å³ä¾§: æœç´¢ + è®¾ç½®é“¾æ¥

### 11.2 å·¦æ ï¼ˆè¿›åº¦é¢æ¿ï¼‰

- é¡¶éƒ¨: è§†å›¾åˆ‡æ¢ (ç»å…¸/æ ‘å½¢) â€” ä½¿ç”¨ `List` / `GitBranch` å›¾æ ‡
- ä¸­éƒ¨: é˜¶æ®µåˆ—è¡¨ æˆ– æ ‘å½¢è§†å›¾
- åº•éƒ¨: Agent è‡ªä¸»æƒè®¾ç½®å…¥å£

### 11.3 å³æ ï¼ˆAgent é¢æ¿ï¼‰

- é¡¶éƒ¨: æ ‡é¢˜ + å·¥å…·é€‰æ‹©å™¨
- ä¸­éƒ¨: å¯¹è¯æ¶ˆæ¯åˆ—è¡¨
- åº•éƒ¨: è¾“å…¥æ¡† + @ æåŠ + å‘é€æŒ‰é’®

---

## 12. åŠ¨æ•ˆä¸è¿‡æ¸¡

### 12.1 é€šç”¨è¿‡æ¸¡

```
transition-colors        â€” é¢œè‰²å˜åŒ–ï¼ˆhover, focusï¼‰
transition-all duration-200 â€” å¸ƒå±€å˜åŒ–ï¼ˆå±•å¼€/æŠ˜å ï¼‰
transition-transform     â€” å›¾æ ‡æ—‹è½¬ï¼ˆchevronï¼‰
```

### 12.2 åŠ è½½æ€

```
animate-pulse   â€” ç­‰å¾…ä¸­çš„æ–‡å­—/å ä½
animate-spin    â€” æ—‹è½¬åŠ è½½å™¨ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
```

### 12.3 ç”Ÿæˆä¸­çŠ¶æ€

- å†…å®¹åŒºåŸŸå®æ—¶æµå¼è¿½åŠ æ–‡å­—
- çŠ¶æ€ badge è„‰åŠ¨ (`animate-pulse`)
- æ“ä½œæŒ‰é’®æ›¿æ¢ä¸ºã€Œåœæ­¢ç”Ÿæˆã€

---

## 13. å½“å‰é—®é¢˜æ¸…å•ä¸æ”¹è¿›æ–¹æ¡ˆ

### ğŸ”´ P0 â€” å›¾æ ‡å†²çªï¼ˆå¿…é¡»ä¿®å¤ï¼‰

| # | é—®é¢˜ | ä½ç½® | æ”¹è¿›æ–¹æ¡ˆ |
|---|------|------|----------|
| 1 | `Sparkles` åŒæ—¶ç”¨äº"AIæç¤ºè¯é…ç½®"å’Œ"ç”Ÿæˆ"æŒ‰é’® | `content-block-card.tsx` è¡Œ 642, 709; `content-block-editor.tsx` è¡Œ 545, 621 | **æç¤ºè¯é…ç½® â†’ `MessageSquarePlus`**; **ç”Ÿæˆ â†’ `Play`** |
| 2 | `Settings`ï¼ˆé½¿è½®ï¼‰åŒæ—¶ç”¨äº"çº¦æŸé…ç½®"å’Œå…¨å±€è®¾ç½®æ¦‚å¿µ | `content-block-card.tsx` è¡Œ 672; `content-block-editor.tsx` è¡Œ 630 | **çº¦æŸé…ç½® â†’ `SlidersHorizontal`** |
| 3 | `Link` ç”¨äº"ä¾èµ–"ï¼Œä½† Link çš„è¯­ä¹‰æ›´æ¥è¿‘è¶…é“¾æ¥ | `content-block-card.tsx` è¡Œ 660; `content-block-editor.tsx` è¡Œ 644 | **ä¾èµ– â†’ `Workflow`**ï¼ˆ`GitBranch` å·²è¢«è¿›åº¦é¢æ¿æ ‘å½¢åˆ‡æ¢å ç”¨ï¼‰ |
| 4 | `AlertTriangle` ç”¨äº need_review=trueï¼Œä¼ é€’"è­¦å‘Š/å‡ºé”™"çš„è´Ÿé¢æš—ç¤º | `content-block-card.tsx` è¡Œ 688; `content-block-editor.tsx` è¡Œ 663-669ï¼ˆçº¯æ–‡å­—ï¼Œæ— å›¾æ ‡ï¼‰ | **need_review â†’ `ShieldCheck`**ï¼ˆæ­£é¢è¯­ä¹‰ï¼šéœ€äººå·¥æŠŠå…³ï¼‰ã€‚æ³¨æ„: `eval-field-editors.tsx` ä¸­çš„ `AlertTriangle` æ˜¯çœŸå®è­¦å‘Šï¼ˆå¦‚"æ— æ¨¡æ‹Ÿå™¨""è¯•éªŒå¤±è´¥"ï¼‰ï¼Œä¿æŒä¸å˜ |
| 5 | `CheckCircle2` ç”¨äº need_review=falseï¼Œä¸"å·²å®Œæˆ"çŠ¶æ€è§†è§‰ç›¸ä¼¼ | `content-block-card.tsx` è¡Œ 688; `content-block-editor.tsx` è¡Œ 663-669ï¼ˆçº¯æ–‡å­—ï¼Œæ— å›¾æ ‡ï¼‰ | **è‡ªåŠ¨æ‰§è¡Œ â†’ `Zap`**ï¼ˆé—ªç”µ=è‡ªåŠ¨ï¼‰ |

### ğŸ”´ P0.5 â€” FieldCard emoji æ³›æ»¥ï¼ˆä¸ ContentBlockCard/Editor å®Œå…¨è„±èŠ‚ï¼‰

> **è¿™æ˜¯å½“å‰ UI ä¸­æœ€å¤§çš„ä¸ä¸€è‡´æºå¤´ã€‚** `content-panel.tsx` å†…çš„ FieldCard ä½¿ç”¨ emoji è€Œé lucide å›¾æ ‡ï¼Œ
> å¯¼è‡´ä¸ `ContentBlockCard` å’Œ `ContentBlockEditor` çš„åŒä¸€åŠŸèƒ½å‘ˆç°å®Œå…¨ä¸åŒã€‚

| # | FieldCard å½“å‰ç”¨æ³• | ContentBlockCard å½“å‰ç”¨æ³• | ç»Ÿä¸€ç›®æ ‡ |
|---|-------------------|-------------------------|---------|
| 6a | ç”ŸæˆæŒ‰é’®ï¼šçº¯æ–‡å­— "ç”Ÿæˆ"ï¼ˆæ— å›¾æ ‡ï¼‰ | `Sparkles` å›¾æ ‡ | `Play` + "ç”Ÿæˆ" |
| 6b | é‡æ–°ç”Ÿæˆï¼šemoji `ğŸ”„ é‡æ–°ç”Ÿæˆ` | `RefreshCw` å›¾æ ‡ | `RefreshCw` + "é‡æ–°ç”Ÿæˆ" |
| 6c | åœæ­¢ï¼šè‡ªå®šä¹‰ SVG `<rect>` | è‡ªå®šä¹‰ SVG `<rect>` | `Square` |
| 6d | æç¤ºè¯çŠ¶æ€ï¼šemoji `âœ¨` / `âš ï¸` | `Sparkles` å›¾æ ‡ | `MessageSquarePlus` / `AlertCircle` |
| 6e | ä¾èµ–ï¼šemoji `ğŸ“` | `Link` å›¾æ ‡ | `Workflow` |
| 6f | å®¡æ ¸/è‡ªåŠ¨ï¼šemoji `âš¡` + toggle | `AlertTriangle` / `CheckCircle2` | `ShieldCheck` / `Zap` + toggle |
| 6g | åˆ é™¤ï¼šemoji `ğŸ—‘ï¸` | `Trash2` å›¾æ ‡ | `Trash2` |
| 6h | ç¼–è¾‘ï¼šçº¯æ–‡å­— "ç¼–è¾‘" | `Edit2` å›¾æ ‡ | `Pencil` + "ç¼–è¾‘" |

### ğŸŸ¡ P1 â€” æ ·å¼ä¸ä¸€è‡´

| # | é—®é¢˜ | ä½ç½® | æ”¹è¿›æ–¹æ¡ˆ |
|---|------|------|----------|
| 7 | ç´§å‡‘å¡ç‰‡ vs ç¼–è¾‘å™¨çš„æŒ‰é’®æ ·å¼å·®å¼‚å¤§ï¼ˆicon-only vs icon+textï¼Œpadding ä¸åŒï¼‰ | `content-block-card.tsx` vs `content-block-editor.tsx` | ç»Ÿä¸€ä¸º Â§6 æŒ‰é’®ç³»ç»Ÿè§„èŒƒï¼šç´§å‡‘ = icon-only `sm`; ç¼–è¾‘å™¨ = icon+text `md` |
| 8 | åœæ­¢ç”ŸæˆæŒ‰é’®ä½¿ç”¨è‡ªå®šä¹‰ SVG è€Œé lucide å›¾æ ‡ | ä¸‰å¤„ `<svg>...<rect>...` | ç»Ÿä¸€ä¸º `Square` from lucide-reactï¼ˆå·²çº³å…¥ P0 Phase 1 #5ï¼‰ |
| 9 | çŠ¶æ€æ˜¾ç¤ºåœ¨æ ‘å½¢è§†å›¾ç”¨åœ†ç‚¹ã€åœ¨å¡ç‰‡ç”¨æ–‡å­— badgeï¼Œåœ¨ç¼–è¾‘å™¨åˆæ˜¯å¦ä¸€ç§ | å„ç»„ä»¶ | ç»Ÿä¸€ä¸º Â§7 çŠ¶æ€ç³»ç»Ÿï¼šæ ‘=åœ†ç‚¹ï¼Œå¡ç‰‡/ç¼–è¾‘å™¨=åœ†ç‚¹+æ–‡å­— |
| 10 | é…ç½®æŒ‰é’®åœ¨å¡ç‰‡ä¸­æ˜¯ icon-onlyï¼Œåœ¨ç¼–è¾‘å™¨ä¸­æ˜¯ icon+text+badge | ä¸¤å¤„é…ç½®åŒº | ä¿æŒå·®å¼‚ä½†ç»Ÿä¸€å›¾æ ‡ã€è‰²å½©å’Œæ‚¬åœè¡Œä¸º |
| 11 | content-block-card çš„å¼¹çª—ç”¨ `absolute` å®šä½è€Œé `fixed` | `content-block-card.tsx` çš„çº¦æŸ/æç¤ºè¯/ä¾èµ–å¼¹çª— | ç»Ÿä¸€ä¸º `fixed` + backdrop æ¨¡å¼ (Â§9) |

### ğŸŸ¢ P2 â€” ä¼˜åŒ–å¢å¼º

| # | é—®é¢˜ | ä½ç½® | æ”¹è¿›æ–¹æ¡ˆ |
|---|------|------|----------|
| 12 | å¤šå¤„ä½¿ç”¨ emojiï¼ˆâš ï¸, âœ…, ğŸ’¬, ğŸ”ï¼‰ä¸å¤Ÿä¸“ä¸šç»Ÿä¸€ï¼ˆé™¤ P0.5 å·²è¦†ç›–çš„ FieldCard å¤–ï¼‰ | `proposal-selector.tsx` ç­‰ | æ›¿æ¢ä¸ºå¯¹åº”çš„ lucide å›¾æ ‡ |
| 13 | æ— ç»Ÿä¸€çš„ç©ºçŠ¶æ€æ¨¡å¼ | å„å¤„ | å®šä¹‰ç»Ÿä¸€ç©ºçŠ¶æ€ç»„ä»¶æ¨¡æ¿ |
| 14 | å¼¹çª—ç¼ºå°‘ Escape å…³é—­æ”¯æŒ | å¤šæ•°å¼¹çª— | ç»Ÿä¸€æ·»åŠ  `useEffect` ç›‘å¬ Escape |

---

## 14. ç»„ä»¶çº§è§„èŒƒå¯¹ç…§è¡¨

### å„ç»„ä»¶éœ€è¦ä¿®æ”¹çš„å›¾æ ‡æ¸…å•

#### `content-block-card.tsx`

| è¡Œå· (çº¦) | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|-----------|------|------|------|
| 642 | `Sparkles` (æç¤ºè¯å…¥å£) | `MessageSquarePlus` | æç¤ºè¯é…ç½® |
| 660 | `Link` (ä¾èµ–å…¥å£) | `Workflow` | ä¾èµ–é…ç½® |
| 672 | `Settings` (çº¦æŸå…¥å£) | `SlidersHorizontal` | çº¦æŸé…ç½® |
| 688 | `AlertTriangle` / `CheckCircle2` (å®¡æ ¸æ ‡è®°) | `ShieldCheck` / `Zap` | need_review åˆ‡æ¢ |
| 709 | `Sparkles` (ç”ŸæˆæŒ‰é’®, statusâ‰ completed) | `Play` | AI ç”Ÿæˆ |
| 709 | `RefreshCw` (ç”ŸæˆæŒ‰é’®, status=completed) | `RefreshCw` âœ… | é‡æ–°ç”Ÿæˆ |
| 719 | è‡ªå®šä¹‰ SVG `<rect>` (åœæ­¢) | `Square` | åœæ­¢ç”Ÿæˆ |
| import | `Edit2` | `Pencil` | ç¼–è¾‘å›¾æ ‡ç»Ÿä¸€ |

#### `content-block-editor.tsx`

| è¡Œå· (çº¦) | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|-----------|------|------|------|
| 545 | `Sparkles` (ç”ŸæˆæŒ‰é’®) | `Play` | AI ç”Ÿæˆ |
| 581 | `RefreshCw` (é‡æ–°ç”Ÿæˆ) | `RefreshCw` âœ… | é‡æ–°ç”Ÿæˆ |
| 529 | è‡ªå®šä¹‰ SVG `<rect>` (åœæ­¢) | `Square` | åœæ­¢ç”Ÿæˆ |
| 621 | `Sparkles` (æç¤ºè¯é…ç½®æŒ‰é’®) | `MessageSquarePlus` | æç¤ºè¯é…ç½® |
| 630 | `Settings` (çº¦æŸé…ç½®æŒ‰é’®) | `SlidersHorizontal` | çº¦æŸé…ç½® |
| 644 | `Link` (ä¾èµ–é…ç½®æŒ‰é’®) | `Workflow` | ä¾èµ–é…ç½® |
| import | `Edit2` | `Pencil` | ç¼–è¾‘å›¾æ ‡ç»Ÿä¸€ |
| 663-669 | need_review çŠ¶æ€çº¯æ–‡å­—æ˜¾ç¤ºï¼ˆ"éœ€è¦äººå·¥ç¡®è®¤"/"è‡ªåŠ¨æ‰§è¡Œ"ï¼‰ | å‰ç½® `ShieldCheck`/`Zap` å›¾æ ‡ + ä¿ç•™æ–‡å­— | need_review è§†è§‰ç»Ÿä¸€ |

#### `content-panel.tsx` (FieldCard éƒ¨åˆ†) â€” âš ï¸ æœ€å¤§ä¸ä¸€è‡´æº

> **é‡è¦**: `FieldCard` ä¸ `ContentBlockCard` åŠŸèƒ½ç›¸åŒä½†å®Œå…¨ä½¿ç”¨ emoji è€Œé lucide å›¾æ ‡ã€‚
> è¿™æ˜¯æœ¬æ¬¡ UI ç»Ÿä¸€çš„æ ¸å¿ƒæ”¹é€ ç›®æ ‡ã€‚`Settings` å¯¼å…¥åœ¨æ­¤æ–‡ä»¶ä¸­æ˜¯æ­»ä»£ç ï¼ˆæœªåœ¨ JSX ä¸­ä½¿ç”¨ï¼‰ã€‚

| ä½ç½® | å½“å‰ï¼ˆemoji/æ–‡å­—ï¼‰ | æ”¹ä¸ºï¼ˆlucide å›¾æ ‡ï¼‰ | åŠŸèƒ½ |
|------|-------------------|-------------------|------|
| FieldCard ç”ŸæˆæŒ‰é’® (~è¡Œ 1512) | çº¯æ–‡å­— "ç”Ÿæˆ"ï¼ˆæ— å›¾æ ‡ï¼‰ | `Play` + "ç”Ÿæˆ" | AI ç”Ÿæˆ |
| FieldCard é‡æ–°ç”Ÿæˆ (~è¡Œ 1528) | emoji `ğŸ”„ é‡æ–°ç”Ÿæˆ` | `RefreshCw` + "é‡æ–°ç”Ÿæˆ" | é‡æ–°ç”Ÿæˆ |
| FieldCard åœæ­¢æŒ‰é’® (~è¡Œ 1500) | è‡ªå®šä¹‰ SVG `<rect>` | `Square` + "åœæ­¢ç”Ÿæˆ" | åœæ­¢ç”Ÿæˆ |
| FieldCard æç¤ºè¯çŠ¶æ€ (~è¡Œ 1647) | emoji `âœ¨` / `âš ï¸` | `MessageSquarePlus` / `AlertCircle` | æç¤ºè¯é…ç½®çŠ¶æ€ |
| FieldCard ä¾èµ– (~è¡Œ 1591) | emoji `ğŸ“ ä¾èµ–:` | `Workflow` + "ä¾èµ–:" | ä¾èµ–é…ç½® |
| FieldCard å®¡æ ¸/è‡ªåŠ¨ (~è¡Œ 1612) | emoji `âš¡` + toggle | `ShieldCheck` / `Zap` + toggle | need_review åˆ‡æ¢ |
| FieldCard åˆ é™¤ (~è¡Œ 1579) | emoji `ğŸ—‘ï¸` | `Trash2` | åˆ é™¤ |
| FieldCard ç¼–è¾‘ (~è¡Œ 1566) | çº¯æ–‡å­— "ç¼–è¾‘" | `Pencil` + "ç¼–è¾‘" | ç¼–è¾‘å†…å®¹ |
| FieldCard é¢„æé—®æ ‡é¢˜ (~è¡Œ 1682) | emoji `ğŸ“` | `MessageCircleQuestion` æˆ–ä¿ç•™ | ç”Ÿæˆå‰æé—® |
| import è¡Œ `Settings` | å·²å¯¼å…¥æœªä½¿ç”¨ï¼ˆæ­»ä»£ç ï¼‰ | ç§»é™¤ | æ¸…ç† |

#### `template-selector.tsx`

> æ­¤ç»„ä»¶åœ¨ä¹‹å‰çš„å®¡æŸ¥ä¸­é—æ¼ã€‚

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| å…¨éƒ¨ | `Folder`, `Lightbulb`, `Users`, `PlayCircle`, `BarChart3`, `FileText` | âœ… ä¿æŒ | æ¨¡æ¿é€‰æ‹©å™¨çš„å—ç±»å‹å›¾æ ‡ï¼Œä¸ Â§5.2 ä¸€è‡´ |

#### `block-tree.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| context menu `Edit2` | `Edit2` | `Pencil` | é‡å‘½å |
| æ— éœ€å˜æ›´ | `Trash2`, `Copy`, `ChevronRight/Down`, `Folder`, `FileText`, `GripVertical`, `MoreHorizontal`, `Plus`, `Undo2`, `Package`, `X` | âœ… ä¿æŒ | â€” |
| statusColors åœ†ç‚¹ | è‡ªå®šä¹‰è‰²å€¼ | å¯¹é½ Â§7 çŠ¶æ€ç³»ç»Ÿè‰²å€¼ | çŠ¶æ€ä¸€è‡´æ€§ |

#### `agent-panel.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| æ—  lucide å›¾æ ‡å¯¼å…¥ | â€” | â€” | æ­¤ç»„ä»¶ä¸ä½¿ç”¨ lucide å›¾æ ‡æŒ‰é’®ï¼Œæ— éœ€å˜æ›´å›¾æ ‡ |
| æ¶ˆæ¯æ°”æ³¡ emoji | emoji (âœ…, âš ï¸ ç­‰) | ä¿æŒï¼ˆå¯¹è¯å†…å®¹ä¸­ emoji ç¬¦åˆèŠå¤©è¯­å¢ƒï¼‰ | â€” |

#### `version-history.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| å…¨éƒ¨ | `History`, `RotateCcw`, `X`, `ChevronDown/Up`, `Eye` | âœ… ä¿æŒ | å·²ç¬¦åˆè®¾è®¡è§„èŒƒ |

#### `create-project-modal.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| å…¨éƒ¨ | `ChevronLeft/Right`, `Check`, `Folder`, `Lightbulb`, `Users`, `PlayCircle`, `BarChart3` | âœ… ä¿æŒ | å·²ç¬¦åˆè®¾è®¡è§„èŒƒ |

#### `progress-panel.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| è§†å›¾åˆ‡æ¢ | `List`, `GitBranch` | âœ… ä¿æŒ | ç»å…¸/æ ‘å½¢åˆ‡æ¢ |
| é˜¶æ®µçŠ¶æ€æ˜¾ç¤º | å„ç§ inline æ ·å¼ | å¯¹é½ Â§7 çŠ¶æ€ç³»ç»Ÿ | çŠ¶æ€ä¸€è‡´æ€§ |

#### `workspace-layout.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| å…¨éƒ¨ | `PanelLeftClose/Open`, `PanelRightClose/Open` | âœ… ä¿æŒ | æŠ˜å /å±•å¼€ä¾§æ  |

#### `workspace/page.tsx` (Header åŒºåŸŸ)

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| å…¨éƒ¨ | `Copy`, `Trash2`, `ChevronDown`, `CheckSquare`, `Square`, `X`, `Download`, `Upload`, `Search` | âœ… ä¿æŒ | é¡¹ç›®ç®¡ç†æ“ä½œ |

#### `global-search-modal.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| å…¨éƒ¨ | `Search`, `Replace`, `X`, `ChevronDown/Right`, `CaseSensitive`, `ArrowRight` | âœ… ä¿æŒ | æœç´¢æ›¿æ¢åŠŸèƒ½ |

#### `eval-phase-panel.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| 118 | `Settings` (è¯„ä¼°é…ç½®) | `SlidersHorizontal` | ä¸å…¨å±€è®¾ç½®åŒºåˆ† |
| å…¶ä½™ | `BarChart3`, `Loader2` | âœ… ä¿æŒ | â€” |

#### `eval-field-editors.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| 558 | `Settings` (è¯„ä¼°é…ç½®æ ‡é¢˜å›¾æ ‡) | `SlidersHorizontal` | ä¸å…¨å±€è®¾ç½®åŒºåˆ† |
| 221 | `Edit2` (ç¼–è¾‘äººç‰©ç”»åƒ) | `Pencil` | ç¼–è¾‘å›¾æ ‡ç»Ÿä¸€ |
| import | `Sparkles` (å·²å¯¼å…¥) | ç§»é™¤ï¼ˆæ­»ä»£ç ï¼šæœªåœ¨ JSX ä¸­ä½¿ç”¨ï¼‰ | æ¸…ç† |
| 585, 1130, 1204, 1597 | `AlertTriangle` (è­¦å‘Š/é”™è¯¯æç¤º) | âœ… **ä¿æŒ**ï¼ˆæ­¤å¤„æ˜¯çœŸå®è­¦å‘Šï¼Œé need_review è¯­ä¹‰ï¼‰ | æ— æ¨¡æ‹Ÿå™¨æç¤ºã€API é”™è¯¯ã€è¯•éªŒå¤±è´¥ã€è¯Šæ–­ |
| å…¶ä½™ | `Users`, `Plus`, `Trash2`, `Play`, `ChevronDown/Right`, `Eye`, `Save`, `RefreshCw`, `BarChart3`, `FileText`, `MessageSquare`, `CheckCircle`, `XCircle`, `Clock`, `Zap`, `Download` | âœ… ä¿æŒï¼ˆå‡åœ¨æ­£ç¡®è¯­ä¹‰ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ï¼‰ | â€” |

#### `settings/page.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| å…¨éƒ¨ | `Download`, `Upload` | âœ… ä¿æŒ | å¯¼å…¥/å¯¼å‡º |

#### `simulation-panel.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| å…¨éƒ¨ | `ChevronDown/Right`, `Play`, `RotateCcw`, `Trash2`, `Eye`, `Terminal`, `User`, `FileText`, `Clock`, `CheckCircle`, `AlertCircle`, `Loader2` | âœ… ä¿æŒ | æ¨¡æ‹Ÿé¢æ¿å„åŠŸèƒ½ |

#### `channel-selector.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| `Edit2` | `Edit2` | `Pencil` | ç¼–è¾‘å›¾æ ‡ç»Ÿä¸€ |
| å…¶ä½™ | `Check`, `Plus`, `Trash2`, `GripVertical`, `Send`, `X` | âœ… ä¿æŒ | â€” |

#### `proposal-selector.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| è¡Œ 137-138 | `need_review` badge: çº¯æ–‡å­— "éœ€ç¡®è®¤" | æ·»åŠ  `ShieldCheck` å›¾æ ‡ä»¥ä¿æŒä¸ç»Ÿä¸€æ–¹æ¡ˆä¸€è‡´ | need_review çŠ¶æ€æ ‡è®° |
| `Settings2` (è¡Œ 146) | å±•å¼€ç¼–è¾‘å›¾æ ‡ | âœ… ä¿æŒï¼ˆè¯­ä¹‰ä¸º"å±•å¼€é…ç½®é¢æ¿"ï¼Œä¸"çº¦æŸé…ç½®"ç”¨çš„ `SlidersHorizontal` ä¸åŒï¼‰ | å±•å¼€ç¼–è¾‘ |
| å…¶ä½™ | `ChevronUp/Down/Right`, `Plus`, `Trash2`, `X`, `Save`, `PackagePlus`, `Copy`, `ArrowUp/Down`, `BookTemplate` | âœ… ä¿æŒ | æ–¹æ¡ˆé€‰æ‹©å™¨åŠŸèƒ½ |

#### `research-panel.tsx`

| ä½ç½® | å½“å‰ | æ”¹ä¸º | åŠŸèƒ½ |
|------|------|------|------|
| â€” | ä¸ä½¿ç”¨ä»»ä½• lucide-react å›¾æ ‡ï¼ˆçº¯ CSS/HTML å®ç°ï¼‰ | âœ… æ— éœ€å˜æ›´ | â€” |

---

## 15. å®æ–½è®¡åˆ’ä¸ä¼˜å…ˆçº§

### Phase 1 â€” P0 å›¾æ ‡å†²çªä¿®å¤ (æœ€é«˜ä¼˜å…ˆçº§)

ç›®æ ‡ï¼šæ¶ˆé™¤æ‰€æœ‰"ä¸€ä¸ªå›¾æ ‡ä¸¤ä¸ªå«ä¹‰"çš„æƒ…å†µã€‚

1. **æ›¿æ¢ `Sparkles`**
   - æ‰€æœ‰"æç¤ºè¯é…ç½®"å…¥å£ â†’ `MessageSquarePlus`
   - æ‰€æœ‰"AI ç”Ÿæˆ"æŒ‰é’® â†’ `Play`
   - æ¶‰åŠæ–‡ä»¶: `content-block-card.tsx`, `content-block-editor.tsx`
   - æ³¨æ„: `content-panel.tsx` FieldCard ä¸­ä¸æ˜¯ `Sparkles` è€Œæ˜¯ emoji `âœ¨`ï¼Œåœ¨ P0.5 #7 ä¸­ä¸€å¹¶å¤„ç†
   - æ³¨æ„: `eval-field-editors.tsx` çš„ `Sparkles` æ˜¯æ­»å¯¼å…¥ï¼ˆæœªä½¿ç”¨ï¼‰ï¼Œåœ¨ #7 ä¸­æ¸…ç†

2. **æ›¿æ¢ `Settings`**ï¼ˆä»…"çº¦æŸ/å‚æ•°é…ç½®"è¯­ä¹‰ï¼‰
   - æ‰€æœ‰"çº¦æŸé…ç½®"å…¥å£ â†’ `SlidersHorizontal`
   - æ¶‰åŠæ–‡ä»¶: `content-block-card.tsx`, `content-block-editor.tsx`, `eval-phase-panel.tsx`, `eval-field-editors.tsx`
   - æ³¨æ„: `content-panel.tsx` çš„ `Settings` å¯¼å…¥æ˜¯æ­»ä»£ç ï¼Œç›´æ¥ç§»é™¤

3. **æ›¿æ¢ `Link`**
   - æ‰€æœ‰"ä¾èµ–é…ç½®"å…¥å£ â†’ `Workflow`ï¼ˆæ³¨æ„: ä¸ç”¨ `GitBranch`ï¼Œå®ƒå·²è¢«è¿›åº¦é¢æ¿æ ‘å½¢åˆ‡æ¢å ç”¨ï¼‰
   - æ¶‰åŠæ–‡ä»¶: `content-block-card.tsx`, `content-block-editor.tsx`, `content-panel.tsx`ï¼ˆFieldCard ä¸­çš„ emoji `ğŸ“` ä¹Ÿä¸€å¹¶æ›¿æ¢ï¼‰

4. **æ›¿æ¢ `AlertTriangle` / `CheckCircle2`**ï¼ˆä»… need_review è¯­ä¹‰ï¼‰
   - need_review=true â†’ `ShieldCheck`
   - need_review=false â†’ `Zap`
   - æ¶‰åŠæ–‡ä»¶: `content-block-card.tsx`, `content-block-editor.tsx`ï¼ˆæ–‡å­—æ ‡ç­¾åŠ å›¾æ ‡ï¼‰, `content-panel.tsx`ï¼ˆFieldCard emoji `âš¡` æ›¿æ¢ï¼‰
   - **ä¸æ¶‰åŠ**: `eval-field-editors.tsx` ä¸­çš„ `AlertTriangle`ï¼ˆé‚£é‡Œæ˜¯çœŸå®è­¦å‘Šï¼Œä¿æŒä¸å˜ï¼‰

5. **æ›¿æ¢è‡ªå®šä¹‰ SVG åœæ­¢æŒ‰é’®**
   - è‡ªå®šä¹‰ `<svg><rect></svg>` â†’ `Square` from lucide
   - æ¶‰åŠæ–‡ä»¶: `content-block-card.tsx`, `content-block-editor.tsx`, `content-panel.tsx`ï¼ˆFieldCardï¼‰

6. **ç»Ÿä¸€ `Edit2` â†’ `Pencil`**
   - æ¶‰åŠæ–‡ä»¶: `content-block-card.tsx`, `content-block-editor.tsx`, `block-tree.tsx`, `channel-selector.tsx`, `eval-field-editors.tsx`

7. **FieldCard emoji â†’ lucide å›¾æ ‡ç»Ÿä¸€**ï¼ˆP0.5 æ ¸å¿ƒæ”¹é€ ï¼‰
   - `content-panel.tsx` å†…åµŒ FieldCard çš„æ‰€æœ‰ emoji æ›¿æ¢ä¸ºå¯¹åº” lucide å›¾æ ‡
   - `âœ¨`/`âš ï¸` â†’ `MessageSquarePlus`/`AlertCircle`, `ğŸ“` â†’ `Workflow`, `ğŸ—‘ï¸` â†’ `Trash2`, `ğŸ”„` â†’ `RefreshCw`, `ğŸ“` â†’ ä¿ç•™æˆ– `MessageCircleQuestion`
   - ç§»é™¤æ­»ä»£ç å¯¼å…¥ `Settings`
   - ç§»é™¤ `eval-field-editors.tsx` ä¸­æœªä½¿ç”¨çš„ `Sparkles` å¯¼å…¥

### Phase 2 â€” P1 æ ·å¼ç»Ÿä¸€ âœ… å·²å®Œæˆ

1. ~~ç»Ÿä¸€æŒ‰é’®æ ·å¼éµå¾ª Â§6 æŒ‰é’®ç³»ç»Ÿ~~ â€” å®¡æŸ¥åç¡®è®¤æŒ‰é’®æ ·å¼å·²åŸºæœ¬ä¸€è‡´ï¼Œæ— éœ€"ä¸ºæ”¹è€Œæ”¹"
2. âœ… ç»Ÿä¸€çŠ¶æ€ badge éµå¾ª Â§7 çŠ¶æ€ç³»ç»Ÿ â€” FieldCard `green`â†’`emerald`, `yellow`â†’`amber`; ä¾èµ–badge `green`â†’`emerald`; æ–‡å­—æ ‡ç­¾ç»Ÿä¸€
3. ~~ç»Ÿä¸€å¼¹çª—ç»“æ„éµå¾ª Â§9 å¼¹çª—ç³»ç»Ÿ~~ â€” å®¡æŸ¥åç¡®è®¤å¼¹çª—ç»“æ„å·²åˆç†
4. ~~å¼¹çª—å®šä½ç»Ÿä¸€ä½¿ç”¨ `fixed` + backdrop~~ â€” å®¡æŸ¥åç¡®è®¤æ‰€æœ‰å¼¹çª—å·²ä½¿ç”¨ `fixed` å®šä½

> **è®¾è®¡å†³ç­–**: `in_progress` çŠ¶æ€è‰²ä¿æŒ `amber`ï¼ˆæ‰€æœ‰ç»„ä»¶å·²ç»Ÿä¸€ä½¿ç”¨ amberï¼Œæ”¹ä¸º brand å±äº"ä¸ºæ”¹è€Œæ”¹"ï¼‰

### Phase 3 â€” P2 ä¼˜åŒ–å¢å¼º âœ… å·²å®Œæˆ

1. âœ… æ›¿æ¢åŠŸèƒ½åŒº emoji ä¸ºçº¯æ–‡å­—æˆ– lucide å›¾æ ‡ï¼ˆ`âœ…`â†’`Check`, `âœ¨`/`âš ï¸`/`ğŸ“`/`ğŸ“`/`ğŸ”„`/`â³`/`ğŸš€`/`ğŸ’¾` æ¸…ç†ï¼‰
2. âœ… æ·»åŠ  Escape é”®å…³é—­å¼¹çª—ï¼ˆ11ä¸ªç»„ä»¶çš„æ‰€æœ‰ fixed å¼¹çª—ï¼‰
3. ~~ç»Ÿä¸€ç©ºçŠ¶æ€ç»„ä»¶æ¨¡æ¿~~ â€” è¯„ä¼°åè®¤ä¸ºå½“å‰å„ç»„ä»¶çš„ç©ºçŠ¶æ€è¡¨è¾¾æ–¹å¼å¤šæ ·ä¸”åˆç†ï¼Œå¼ºè¡Œç»Ÿä¸€å±äº"ä¸ºæ”¹è€Œæ”¹"

---

## 16. ä¸å˜åŠ¨æ¸…å•ï¼ˆæ˜ç¡®ä¿ç•™é¡¹ï¼‰

ä»¥ä¸‹å†…å®¹ç»å®¡æŸ¥åå†³å®š**ä¸åšå˜æ›´**ï¼Œé¿å…æ— è°“æ”¹åŠ¨ï¼š

| é¡¹ç›® | ç†ç”± |
|------|------|
| Tailwind è‰²æ¿é…ç½® (`tailwind.config.ts`) | è‰²æ¿æˆç†Ÿï¼Œå˜åŠ¨çº§è”å½±å“å¤§ |
| ä¸‰æ å¸ƒå±€ç»„ä»¶ (`workspace-layout.tsx`) | åŠŸèƒ½å®Œå–„ï¼Œæ‹–æ‹½/æŠ˜å å·²ç¨³å®š |
| å…¨å±€ CSS (`globals.css`) | scrollbar / selection / prose æ ·å¼å·²åˆç† |
| Agent é¢æ¿èŠå¤© UI (`agent-panel.tsx`) | å¯¹è¯ç•Œé¢é£æ ¼ç‹¬ç«‹ï¼Œemoji åœ¨èŠå¤©ä¸­åˆç† |
| é¡¹ç›®é€‰æ‹©å™¨ UI (`workspace/page.tsx`) | ä¸‹æ‹‰èœå•äº¤äº’æ¸…æ™° |
| ç‰ˆæœ¬å†å²é¢æ¿ (`version-history.tsx`) | å·²ç¬¦åˆå¼¹çª—è§„èŒƒ |
| åˆ›å»ºé¡¹ç›®å¼¹çª— (`create-project-modal.tsx`) | æ­¥éª¤æµç¨‹å’Œå›¾æ ‡å·²åˆç† |
| æ¨¡æ‹Ÿé¢æ¿ (`simulation-panel.tsx`) | å›¾æ ‡ä½¿ç”¨åˆç† |
| åå°è®¾ç½®é¡µ (`settings/page.tsx`) | ä¸å‰å°é£æ ¼ç‹¬ç«‹ï¼Œä¸åœ¨æœ¬æ¬¡èŒƒå›´ |
| æ‰€æœ‰åç«¯ä»£ç  | æœ¬æ¬¡åªæ¶‰åŠå‰ç«¯ UIï¼Œåç«¯é›¶æ”¹åŠ¨ |

---

## 17. æŠ€æœ¯è¾¹ç•Œå£°æ˜

- **ä»…ä¿®æ”¹å‰ç«¯ UI å±‚**ï¼šå›¾æ ‡æ›¿æ¢ã€CSS ç±»åè°ƒæ•´ã€ç»„ä»¶æ ·å¼ç»Ÿä¸€
- **ä¸ä¿®æ”¹ä»»ä½• API è°ƒç”¨**ï¼šæ‰€æœ‰ `blockAPI.*`ã€`fieldAPI.*`ã€`agentAPI.*` è°ƒç”¨ä¿æŒåŸæ ·
- **ä¸ä¿®æ”¹ä»»ä½•æ•°æ®ç»“æ„**ï¼š`ContentBlock`ã€`Field`ã€`Project` ç±»å‹å®šä¹‰ä¸å˜
- **ä¸ä¿®æ”¹ä»»ä½•ä¸šåŠ¡é€»è¾‘**ï¼šç”Ÿæˆã€ä¿å­˜ã€åˆ é™¤ã€ä¾èµ–æ£€æŸ¥ç­‰é€»è¾‘ä¸å˜
- **ä¸ä¿®æ”¹åç«¯ä»£ç **ï¼šPython åç«¯é›¶æ¥è§¦
- **å‘åå…¼å®¹**ï¼šæ”¹å®Œå‰ç«¯åï¼Œåç«¯åŠŸèƒ½å®Œå…¨ä¸å—å½±å“

---

## 18. æ‰§è¡Œè®°å½•ï¼ˆPhase 1 å®Œæˆï¼‰

### å·²å®Œæˆå˜æ›´æ¸…å•

| # | æ–‡ä»¶ | å˜æ›´å†…å®¹ | çŠ¶æ€ |
|---|------|---------|------|
| M1 | `content-block-card.tsx` | Sparklesâ†’Play/MessageSquarePlus, Linkâ†’Workflow, Settingsâ†’SlidersHorizontal, AlertTriangle/CheckCircle2â†’ShieldCheck/Zap, SVGâ†’Square, Edit2â†’Pencil, emojiæ¸…ç†(ğŸ“â†’Workflow, âš ï¸â†’ShieldCheck, ğŸ“ç§»é™¤) | âœ… |
| M2 | `content-block-editor.tsx` | Sparklesâ†’Play/MessageSquarePlus, Settingsâ†’SlidersHorizontal, Linkâ†’Workflow, SVGâ†’Square, Edit2â†’Pencil, need_reviewåŠ lucideå›¾æ ‡ | âœ… |
| M3 | `content-panel.tsx` | FieldCard: âœ¨â†’MessageSquarePlus, âš ï¸â†’AlertCircle, ğŸ“â†’Workflow, âš¡â†’ShieldCheck/Zap, ğŸ—‘ï¸â†’Trash2, ğŸ”„â†’RefreshCw, ğŸ“ç§»é™¤, SVGâ†’Square, ç¼–è¾‘æŒ‰é’®åŠ Pencilå›¾æ ‡, Settingså¯¼å…¥ç§»é™¤ | âœ… |
| M4 | `block-tree.tsx` | Edit2â†’Pencil | âœ… |
| M4 | `channel-selector.tsx` | Edit2â†’Pencil | âœ… |
| M5 | `eval-field-editors.tsx` | Settingsâ†’SlidersHorizontal, Edit2â†’Pencil, ç§»é™¤æ­»å¯¼å…¥Sparkles | âœ… |
| M6 | `eval-phase-panel.tsx` | Settingsâ†’SlidersHorizontal | âœ… |
| M7 | `agent-panel.tsx` | SVG stopâ†’Square (lucide), æ–°å¢Square import | âœ… |
| M8 | `proposal-selector.tsx` | need_review badgeåŠ ShieldCheckå›¾æ ‡ | âœ… |

### éªŒè¯ç»“æœ

- **Lint**: å…¨éƒ¨9ä¸ªæ–‡ä»¶é›¶é”™è¯¯
- **Build**: æ— æ–°å¢ TypeScript é”™è¯¯ï¼ˆä»…é¢„å­˜ `agent-panel.tsx:1107` çš„ `tools_used` ç±»å‹ä¸åŒ¹é…ï¼‰
- **grep å…¨é‡æ‰«æ**: `Edit2`, `Settings`(lucide), `Sparkles`, `Link`(lucide), `CheckCircle2`, è‡ªå®šä¹‰SVG â€” å…¨éƒ¨ä» components ç›®å½•æ¸…é›¶
- **ä¿ç•™åˆç†**: `AlertTriangle` åœ¨ `eval-field-editors.tsx` ä¸­çš„è­¦å‘Šç”¨é€”ä¿ç•™ä¸å˜ï¼ˆé need_review è¯­å¢ƒï¼‰

## 19. æ‰§è¡Œè®°å½•ï¼ˆPhase 2 + Phase 3 å®Œæˆï¼‰

### Phase 2 å˜æ›´æ¸…å•

| # | æ–‡ä»¶ | å˜æ›´å†…å®¹ | çŠ¶æ€ |
|---|------|---------|------|
| P2-1 | `content-panel.tsx` | FieldCard çŠ¶æ€ badge: `bg-green-600/20 text-green-400`â†’`bg-emerald-600/20 text-emerald-400` (completed), `bg-yellow-600/20 text-yellow-400`â†’`bg-amber-600/20 text-amber-400` (generating) | âœ… |
| P2-2 | `content-panel.tsx` | FieldCard çŠ¶æ€æ–‡å­—: "å·²ç”Ÿæˆ"â†’"å·²å®Œæˆ", "ç”Ÿæˆä¸­..."â†’"ç”Ÿæˆä¸­", "å¾…ç”Ÿæˆ"â†’"å¾…å¤„ç†" | âœ… |
| P2-3 | `content-panel.tsx` | FieldCard ä¾èµ– badge: `bg-green-600/20 text-green-400`â†’`bg-emerald-600/20 text-emerald-400` | âœ… |
| P2-4 | `content-panel.tsx` | Zap auto-execute è‰²: `text-green-400`â†’`text-emerald-400` | âœ… |
| P2-5 | `content-block-editor.tsx` | ä¾èµ– badge (3å¤„): `green`â†’`emerald`; need_review auto badge: `green`â†’`emerald` | âœ… |
| P2-6 | `content-block-card.tsx` | ä¾èµ– badge: `green`â†’`emerald`; need_review toggle: `green`â†’`emerald` | âœ… |
| P2-7 | `content-panel.tsx` | çŠ¶æ€åœ†ç‚¹è‰²: `bg-green-500`â†’`bg-emerald-500` (3å¤„), `bg-yellow-500`â†’`bg-amber-500` (1å¤„); å›¾ä¾‹"å¾…ç”Ÿæˆ"â†’"å¾…å¤„ç†" | âœ… |
| P2-8 | `progress-panel.tsx` | é˜¶æ®µ/å­—æ®µçŠ¶æ€åœ†ç‚¹è‰²: `bg-green-500`â†’`bg-emerald-500` (2å¤„), `bg-yellow-500`â†’`bg-amber-500` (2å¤„) | âœ… |
| P2-9 | `content-block-card.tsx` | çŠ¶æ€æ–‡å­—ç»Ÿä¸€: "ç”Ÿæˆå¤±è´¥"â†’"å¤±è´¥" (2å¤„), "è¿›è¡Œä¸­"â†’"ç”Ÿæˆä¸­" (1å¤„) | âœ… |
| P2-10 | `content-block-editor.tsx` | çŠ¶æ€æ–‡å­—ç»Ÿä¸€: "è¿›è¡Œä¸­"â†’"ç”Ÿæˆä¸­", æ·»åŠ  failed çŠ¶æ€æ˜¾ç¤º | âœ… |

### Phase 3 å˜æ›´æ¸…å•

| # | æ–‡ä»¶ | å˜æ›´å†…å®¹ | çŠ¶æ€ |
|---|------|---------|------|
| P3-1 | `content-panel.tsx` | `âœ…`â†’`<Check>` å›¾æ ‡ (ç¡®è®¤æŒ‰é’® 3å¤„ + badge 3å¤„); `â³`â†’çº¯æ–‡å­— (5å¤„); `âœ¨`/`ğŸ“`â†’ç§»é™¤ | âœ… |
| P3-2 | `content-block-editor.tsx` | `âš ï¸`/`ğŸ“`â†’ç§»é™¤ (4å¤„); `âœ…`â†’`<Check>` å›¾æ ‡ (1å¤„) | âœ… |
| P3-3 | `research-panel.tsx` | `ğŸ”„`/`â³`/`ğŸ’¾`/`âœ…`â†’çº¯æ–‡å­— (4å¤„) | âœ… |
| P3-4 | `eval-panel.tsx` | `ğŸš€`/`â³`â†’çº¯æ–‡å­— (2å¤„) | âœ… |
| P3-5 | `content-block-card.tsx` | `ğŸ“`â†’ç§»é™¤ (1å¤„) | âœ… |
| P3-6 | `content-block-card.tsx` | Escape é”®å…³é—­ 3 ä¸ªå¼¹çª— | âœ… |
| P3-7 | `content-block-editor.tsx` | Escape é”®å…³é—­ 4 ä¸ªå¼¹çª— | âœ… |
| P3-8 | `content-panel.tsx` | Escape é”®å…³é—­ 3 ä¸ªå¼¹çª— | âœ… |
| P3-9 | `global-search-modal.tsx` | Escape é”®å…³é—­ | âœ… |
| P3-10 | `create-project-modal.tsx` | Escape é”®å…³é—­ | âœ… |
| P3-11 | `version-history.tsx` | Escape é”®å…³é—­ | âœ… |
| P3-12 | `block-tree.tsx` | Escape é”®å…³é—­æ¨¡æ¿å¼¹çª— | âœ… |
| P3-13 | `channel-selector.tsx` | Escape é”®å…³é—­ + useEffect å¯¼å…¥ | âœ… |
| P3-14 | `simulation-panel.tsx` | Escape é”®å…³é—­ 2 ä¸ªå¼¹çª— | âœ… |
| P3-15 | `progress-panel.tsx` | Escape é”®å…³é—­ AutonomySettingsModal | âœ… |
| P3-16 | `lib/api.ts` | ä¿®å¤é¢„å­˜ç±»å‹ç¼ºå¤±: æ·»åŠ  `tools_used?: string[]` åˆ° ChatMessage.metadata | âœ… |

### Phase 2+3 éªŒè¯ç»“æœ

- **Build**: `next build` ç¼–è¯‘æˆåŠŸ âœ…ï¼ˆexit code 0ï¼‰
- **TypeScript**: é›¶é”™è¯¯ âœ…
- **grep æ‰«æ**: Phase 1 æ¸…ç†ç›®æ ‡ç»´æŒé›¶åŒ¹é…ï¼ˆEdit2, Sparkles, CheckCircle2, è‡ªå®šä¹‰SVGï¼‰
- **çŠ¶æ€è‰²ç»Ÿä¸€**: æ‰€æœ‰å†…å®¹å—çŠ¶æ€/ä¾èµ– badge ç»Ÿä¸€ä¸º emerald/amber/zinc/red
- **FieldCard ä¸€è‡´æ€§**: çŠ¶æ€æ–‡å­—ä¸ ContentBlockCard/Editor å®Œå…¨ç»Ÿä¸€
- **Escape æ”¯æŒ**: 11 ä¸ªç»„ä»¶çš„å…¨éƒ¨ fixed å¼¹çª—å‡å¯ç”¨ Escape å…³é—­

### ä¸€è‡´æ€§å¤æŸ¥ä¿®å¤ (Final Pass)

| # | æ–‡ä»¶ | é—®é¢˜ | ä¿®å¤ | çŠ¶æ€ |
|---|------|------|------|------|
| R1 | `content-panel.tsx` | çŠ¶æ€åœ†ç‚¹ `bg-green-500` é—æ¼ 3 å¤„ (è¡Œ 1066, 1105, 1934) | â†’ `bg-emerald-500` | âœ… |
| R2 | `content-panel.tsx` | çŠ¶æ€åœ†ç‚¹ `bg-yellow-500` é—æ¼ 1 å¤„ (è¡Œ 1067) | â†’ `bg-amber-500` | âœ… |
| R3 | `content-panel.tsx` | å›¾ä¾‹æ–‡å­—"å¾…ç”Ÿæˆ"ä¸ badge "å¾…å¤„ç†"ä¸ä¸€è‡´ (è¡Œ 1114) | â†’ "å¾…å¤„ç†" | âœ… |
| R4 | `progress-panel.tsx` | é˜¶æ®µåœ†ç‚¹ `bg-green-500`/`bg-yellow-500` (è¡Œ 465, 466, 528, 529) | â†’ `bg-emerald-500`/`bg-amber-500` | âœ… |
| R5 | `content-block-card.tsx` | çŠ¶æ€æ–‡å­—ä¸ç»Ÿä¸€: "è¿›è¡Œä¸­"(è¡Œ 551) / "ç”Ÿæˆå¤±è´¥"(è¡Œ 469, 638) | â†’ "ç”Ÿæˆä¸­" / "å¤±è´¥" | âœ… |
| R6 | `content-block-editor.tsx` | çŠ¶æ€æ–‡å­—"è¿›è¡Œä¸­" (è¡Œ 535) | â†’ "ç”Ÿæˆä¸­" | âœ… |
| R7 | `content-block-editor.tsx` | badge é¢œè‰²ç¼ºå°‘ `failed` åˆ†æ”¯ (è¡Œ 530-532) | æ·»åŠ  `bg-red-600/20 text-red-400` | âœ… |
| R8 | `docs/design-system.md` | Â§7.1 åœ†ç‚¹è‰² `-400` ä¸ä»£ç  `-500`/`-600` ä¸åŒ¹é… | æ›´æ–°ä¸ºä»£ç å®é™…å€¼ | âœ… |
| R9 | `docs/design-system.md` | ç¬¬ 853 è¡Œæ®‹ç•™å­¤ç«‹è¡Œ | ç§»é™¤ | âœ… |

- **æœ€ç»ˆ Build**: ç¼–è¯‘æˆåŠŸ âœ…ï¼ˆexit code 0, 0 errorsï¼‰

### ä¿ç•™ä¸å˜ï¼ˆå®¡æŸ¥åå†³å®šä¸æ”¹åŠ¨ï¼‰

| é¡¹ç›® | ç†ç”± |
|------|------|
| `simulation-panel.tsx` ä¸­ `green`/`yellow` è‰² | æ¨¡æ‹Ÿå™¨æœ‰ç‹¬ç«‹çŠ¶æ€ç³»ç»Ÿï¼Œéå†…å®¹å—çŠ¶æ€ï¼Œæ”¹åŠ¨å±äº"ä¸ºæ”¹è€Œæ”¹" |
| `progress-panel.tsx` AutonomySettingsModal ä¸­ `green`/`yellow` | Agent è‡ªä¸»æƒå¼€å…³è‰²ï¼Œéå†…å®¹çŠ¶æ€ |
| `research-panel.tsx` persona badge `green` | æ”¶å…¥èŒƒå›´æ ‡ç­¾ï¼ŒéåŠŸèƒ½çŠ¶æ€è‰² |
| `agent-panel.tsx` ä¸­ `âœ…`/`â³`/`ğŸ”„` emoji | åŠ¨æ€èŠå¤©æ¶ˆæ¯å†…å®¹ + ActionButton ç»„ä»¶éœ€æ¥å£é‡æ„æ‰èƒ½æ”¹ï¼ˆÂ§16 æ˜ç¡®ä¿ç•™ï¼‰ |
| `eval-field-editors.tsx` è§’è‰²/ç±»å‹ emoji (`ğŸ”¬`/`ğŸ‘¤`/`ğŸ’°` ç­‰) | æ•°æ®ç»“æ„ä¸­çš„ç±»å‹æ ‡è¯†ï¼Œé UI æŒ‰é’®ï¼ˆÂ§16 æ˜ç¡®ä¿ç•™ï¼‰ |
| `in_progress` çŠ¶æ€è‰²ä¿æŒ `amber` | æ‰€æœ‰ç»„ä»¶å·²ç»Ÿä¸€ç”¨ amberï¼Œæ”¹ä¸º brand çº¯å±"ä¸ºæ”¹è€Œæ”¹" |